"use strict";!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("react/addons"),require("swiper")):e.ReactPhotoSwiper=t(e.React,e.Swiper)}(this,function(e,t){var s={container:{},wrapper:{alignItems:"center"},child:{}},n={screenHeight:1080,threshold:300,minSpeed:.5},i=e.createClass({propTypes:{simulateTouch:e.PropTypes.bool,initialSlide:e.PropTypes.number,preloadImages:e.PropTypes.bool,lazyLoading:e.PropTypes.bool,lazyLoadingInPrevNext:e.PropTypes.bool,lazyLoadingOnTransitionStart:e.PropTypes.bool},componentDidMount:function(){if(this.isMounted()){var e=t(this.getDOMNode(),{direction:"vertical"});this.swiper=t(".swiper-container-h",this.props);var s=this.props.initialSlide;s&&this.swiper.on("imagesReady",function(){this.swiper.slideTo(s,0)}.bind(this)),this.bindSwiperEvents(e)}},componentWillUnmount:function(){this.swiper.destroy(),delete this.swiper},shouldComponentUpdate:function(e){return"undefined"!=typeof this.props.shouldUpdate&&this.props.shouldUpdate(e)},render:function(){return e.createElement("div",{className:"swiper-container swiper-container-v"},e.createElement("div",{className:"swiper-wrapper"},e.createElement("div",{className:"swiper-slide"},e.createElement("div",e.__spread({},this.props,{style:s.container,className:"swiper-container swiper-container-h"}),e.createElement("div",{style:s.wrapper,className:"swiper-wrapper"},e.Children.map(this.props.children,function(t){return e.addons.cloneWithProps(t,{style:s.child,className:"swiper-slide"})}))))))},bindSwiperEvents:function(e){var t=null,s=!1,i=0,o=!1,r=!1;e.on("touchStart",function(e,s){t=this.getPointFromEvent(s),i=s.timeStamp,o=!0}.bind(this)),e.on("touchMove",function(e,i){if(o){var a=this.getPointFromEvent(i);if(r||(s=this.detectCloseMove(t,a),r=!0),s&&this.props.onclosemove){var p=Math.abs(a.y-t.y),c=screen?screen.height:n.screenHeight;this.props.onclosemove(p/c)}}}.bind(this)),e.on("touchEnd",function(e,n){if(this.props.onclosemove&&this.props.onclosemove(0),this.props.onclose&&s){var a=this.getPointFromEvent(n),p=n.timeStamp;this.detectCloseGesture(t,a,i,p)&&this.props.onclose(),s=!1,o=!1,r=!1}}.bind(this))},detectCloseGesture:function(e,t,s,i){var o=screen?screen.height/2:n.threshold,r=t.x-e.x,a=t.y-e.y,p=i-s,c=Math.abs(a)/p;return Math.abs(a)>Math.abs(r)&&(Math.abs(a)>o||c>n.minSpeed)},detectCloseMove:function(e,t){var s=t.x-e.x,n=t.y-e.y;return Math.abs(n)>Math.abs(s)},getPointFromEvent:function(e){var t=null,s=null;return e instanceof MouseEvent?(t=e.screenX,s=e.screenY):e instanceof TouchEvent&&(t=e.changedTouches[0].screenX,s=e.changedTouches[0].screenY),{x:t,y:s}}});return i});